(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[267],{8286:function(t,e,n){"use strict";n.d(e,{oA:function(){return a},To:function(){return l},QC:function(){return f},eC:function(){return v},Uy:function(){return d},ip:function(){return h},nl:function(){return p},oC:function(){return m},gB:function(){return g},SS:function(){return w},qw:function(){return y},dK:function(){return j},f5:function(){return x}});var r=n(6610),o=n(69),i=n(3724),s=n(7608),c=n(5366);function u(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,s.Z)(t);if(e){var o=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,i.Z)(this,n)}}var a=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],l=["Do","Di","Re","Ri","Mi","Fa","Fi","So","Si","La","Li","Ti"],f=["C","D","E","F","G","A","B"],v=new RegExp(/^([A-G][b#]?)(-?\d+)$/),d=new RegExp(/^([A-G])(-?\d+)$/),h={Db:"C#",Eb:"D#",Gb:"F#",Ab:"G#",Bb:"A#"},p={Ionian:"CDEFGABC".split(""),Dorian:"DEFGABCD".split(""),Phrygian:"EFGABCDE".split(""),Lydian:"FGABCDEF".split(""),Mixoludian:"GABCDEFG".split(""),Aeolian:"ABCDEFGA".split(""),Locrian:"BCDEFGAB".split("")},m={0:"Perfect unison",1:"Minor second",2:"Major second",3:"Minor third",4:"Major third",5:"Perfect fourth",6:"Tritone",7:"Perfect fifth",8:"Minor sixth",9:"Major sixth",10:"Minor seventh",11:"Major seventh",12:"Perfect octave"},g={"":"","#":"^",b:"_"},w="TTSTTTS",y={"4-3":"maj","3-4":"min","3-3":"dim"},j=function(t){(0,o.Z)(n,t);var e=u(n);function n(){return(0,r.Z)(this,n),e.apply(this,arguments)}return n}((0,c.Z)(Error)),x=function(t){(0,o.Z)(n,t);var e=u(n);function n(){return(0,r.Z)(this,n),e.apply(this,arguments)}return n}((0,c.Z)(Error))},248:function(t,e,n){"use strict";var r=n(5893),o=n(7294),i=n(236),s=n(9914);e.Z=function(t){for(var e=t.notes,n=t.width,c=void 0===n?500:n,u=t.height,a=void 0===u?100:u,l=t.padNotes,f=void 0===l?10:l,v=t.scale,d=void 0===v?1:v,h=t.highlightNotes,p=void 0===h?[]:h,m=(0,o.useRef)(),g=(0,i.Kf)(e);g.length<f;)g.push("x");var w="[L:1] ".concat(g.join(" "),"|");(0,o.useEffect)((function(){var t={add_classes:!0,staffwidth:c-50,responsive:"resize",paddingbottom:0,paddingtop:0,paddingleft:0,paddingright:0,clickListener:y,scale:d};s.renderAbc(m.current,w,t)}),[w,c]);var y=function(t,e,n,r,o){},j={width:"".concat(c,"px"),height:"".concat(a,"px"),overflow:"hidden"};return(0,r.jsxs)("div",{style:j,className:"music-notation",children:[(0,r.jsx)("style",{children:p.map((function(t){return"svg > .abcjs-n".concat(e.indexOf(t)," { fill: #ff00ff !important; }")})).join("\n")}),(0,r.jsx)("div",{ref:m})]})}},8538:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return w}});var r=n(5893),o=n(4699),i=n(7294);const s={};var c={get(t,e){var n,r;try{return null!==(n=s[t])&&void 0!==n?n:"undefined"===(r=localStorage.getItem(t))?void 0:JSON.parse(null!==r&&void 0!==r?r:"")}catch(o){return e}},set(t,e){try{return localStorage.setItem(t,JSON.stringify(e)),s[t]=void 0,!0}catch(n){return s[t]=e,!1}},remove(t){s[t]=void 0,localStorage.removeItem(t)}};const u=new Set;var a=function(t,e){const n=function(t,e){const n=(0,i.useMemo)((()=>"function"===typeof e?e():e),[t]),r=(0,i.useMemo)((()=>({value:c.get(t,n),isPersistent:(()=>{if("undefined"===typeof window)return!0;try{return localStorage.setItem("__ulss","#"),localStorage.removeItem("__ulss"),!0}catch(t){return!1}})()})),[t,n]),[o,s]=(0,i.useState)(r),u=(0,i.useMemo)((()=>{const e=e=>{s("function"===typeof e?n=>({value:e(n.value),isPersistent:c.set(t,e(n.value))}):{value:e,isPersistent:c.set(t,e)})};return e.reset=()=>{c.remove(t),s((t=>({value:n,isPersistent:t.isPersistent})))},e}),[t,n]);(0,i.useEffect)((()=>{const e=e=>{e.storageArea===localStorage&&e.key===t&&s({value:c.get(t,n),isPersistent:!0})};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)}),[t,n]);const a=(0,i.useRef)(!0);return(0,i.useEffect)((()=>{c.set(t,r.value),a.current?a.current=!1:s(r)}),[t,r]),[o.value,u,o.isPersistent]}(t,e);return(0,i.useEffect)((()=>{if(u.has(t))throw new Error(`When using the same key in multiple places use createLocalStorageStateHook('${t}'): https://github.com/astoilkov/use-local-storage-state#create-local-storage-state-hook`);return u.add(t),()=>{u.delete(t)}}),[t]),n},l=n(5877),f=n(236),v=n(6486),d=function(t){var e="is-danger";return t>60&&(e="is-warning"),t>80&&(e="is-success"),e},h=n(8286),p=n(248),m=n(4184),g=n.n(m),w=function(){var t,e=a("notationQuizScore",{total:0,correct:0,previousRound:null}),n=(0,o.Z)(e,2),s=n[0],c=n[1],u=function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"A0",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"C8",n=(arguments.length>2?arguments[2]:void 0).natural,r=void 0!==n&&n,o=(0,f.kH)(t,e).filter(r?f.ts:function(){return!0});return(0,v.sample)(o)}("A3","C6",{natural:!0})},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=u();if(t)for(;e===t;)e=u();return e},w=function(t,e){return new f.jC(t).naturalNote()===e},y=(0,i.useState)(m(null===s||void 0===s||null===(t=s.previousRound)||void 0===t?void 0:t[0])),j=y[0],x=y[1],b=(0,l.Z)().playNote,_=s.previousRound&&w.apply(null,s.previousRound),N=s.total?Math.round(s.correct/s.total*100):0;return(0,r.jsxs)("div",{suppressHydrationWarning:!0,children:[(0,r.jsxs)("div",{className:"box",children:[(0,r.jsx)("h2",{className:"title",children:"What note is this?"}),(0,r.jsx)("div",{children:j&&(0,r.jsx)(p.Z,{width:200,notes:[j],padNotes:1})}),(0,r.jsx)("div",{className:"controls mt-2",children:h.QC.map((function(t){return(0,r.jsx)("button",{className:g()("button","is-primary"),onClick:function(){return function(t){var e=w(j,t)?1:0;e&&b(j,.5),c({total:s.total+1,correct:s.correct+e,previousRound:[j,t]}),x(m(j))}(t)},children:t},t)}))})]}),(null===s||void 0===s?void 0:s.previousRound)&&(0,r.jsx)("div",{className:"box",children:(0,r.jsxs)("div",{className:"columns",children:[(0,r.jsx)("div",{className:"column is-one-quarter",children:(0,r.jsxs)("article",{className:g()("message",_?"is-success":"is-danger"),children:[(0,r.jsx)("div",{className:"message-header",children:(0,r.jsx)("p",{children:"Previous Question"})}),(0,r.jsxs)("div",{className:"message-body",children:[(0,r.jsxs)("div",{className:"is-flex is-justify-content-space-evenly is-align-content-center",children:[(0,r.jsx)(p.Z,{width:200,notes:[s.previousRound[0]],padNotes:1}),(0,r.jsx)("div",{className:"is-size-2 mt-3 has-text-black",children:s.previousRound[0]})]}),!_&&(0,r.jsxs)("p",{className:"has-text-centered is-size-5",children:["You chose ",(0,r.jsx)("b",{children:s.previousRound[1]}),"."]})]})]})}),(0,r.jsxs)("div",{className:"column is-one-fifth has-text-centered",children:[(0,r.jsx)("div",{className:"is-size-4",children:"Score:"}),(0,r.jsxs)("div",{className:g()("tag is-large is-size-3",d(N)),children:[N,"%"]}),(0,r.jsxs)("div",{className:"is-size-6",children:[s.correct," of ",s.total," correct."]}),(0,r.jsx)("a",{className:"button is-small mt-4",onClick:function(t){t.preventDefault(),c.reset()},children:"Reset Score"})]})]})})]})}},236:function(t,e,n){"use strict";n.d(e,{jC:function(){return f},kH:function(){return v},fB:function(){return d},Bz:function(){return h},ts:function(){return p},B1:function(){return m},Kf:function(){return g},ZS:function(){return w},M8:function(){return y},$2:function(){return j},Pg:function(){return x}});var r=n(7329),o=n(6156),i=n(6610),s=n(5991),c=n(8286),u=n(6486);function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var l=function(t){return c.oA.indexOf(c.ip[t]||t)},f=function(){function t(e){if((0,i.Z)(this,t),"string"===typeof e){var n=c.eC.exec(e);if(!n)throw new c.dK('"'.concat(e,'" was not in a valid format'));if(this._note=n[1],-1===l(this._note))throw new c.dK('"'.concat(this._note,'" is not a valid note'));this._octave=Number(n[2])}if("number"===typeof e){var r=e%12;this._note=c.oA[r],this._octave=Math.floor(e/12)-1}}return(0,s.Z)(t,[{key:"toString",value:function(){return"".concat(this._note).concat(this._octave)}},{key:"valueOf",value:function(){var t=l(this._note);return 12*(this._octave+1)+t}},{key:"naturalNote",value:function(){return this._note.substring(0,1)}},{key:"accidental",value:function(){return this._note.substring(1,2)}},{key:"note",value:function(){return this._note}},{key:"setNote",value:function(t){this._note=t}},{key:"octave",value:function(){return this._octave}},{key:"setOctave",value:function(t){this._octave=t}},{key:"solfege",value:function(){return c.To[l(this._note)]}},{key:"toABCNotation",value:function(){var t="".concat(c.gB[this.accidental()]).concat(this.naturalNote());return this._octave<4?"".concat(t).concat((0,u.repeat)(",",4-this._octave)):4===this._octave?t:5===this._octave?(0,u.toLower)(t):this._octave>5?"".concat((0,u.toLower)(t)).concat((0,u.repeat)("'",this._octave-5)):void 0}}]),t}(),v=function(t,e){var n=new f(t),r=new f(e);if(n>r)throw new c.f5("Start note must be lower than end note");for(var o=[n],i=n.valueOf()+1;i<r.valueOf();i++)o.push(new f(i));return o.push(r),o.map((function(t){return t.toString()}))},d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=Number(e),r=null;return t.map((function(t,e){var o=l(t);return null!==r&&o<r&&(n+=1),r=o,"".concat(t).concat(n)}))},h=function(t){return new f(t).solfege()},p=function(t){return c.Uy.test(t)},m=function(t,e){var n=new f(t),r=new f(e);return n.valueOf()===r.valueOf()?0:n>r?-1:1},g=function(t){return t&&0!==t.length?t.map((function(t){return new f(t).toABCNotation()})):[]},w=function(t,e){var n=v(t,e).length-1;return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){(0,o.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({semitones:n},c.oC[n]?{name:c.oC[n]}:{})},y=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=new f(t).valueOf(),r=[n];return e.split("").forEach((function(t){"T"===t?n+=2:"S"===t&&(n+=1),r.push(n)})),r.map((function(t){return new f(t).toString()}))},j=function(t,e){for(var n=(0,u.max)(t),o=[],i=Math.ceil(n/e.length),s=function(t){var n=e.map((function(e){var n=new f(e);return n.setOctave(n.octave()+t),n.toString()}));o.push.apply(o,(0,r.Z)(n))},c=0;c<i;c++)s(c);var a=(0,u.uniq)(o);return t.map((function(t){return a[t-1]}))},x=function(t){var e,n=t.map((function(t){return new f(t)})),r=n[0].note(),o=[];n.forEach((function(t){e&&o.push(t.valueOf()-e.valueOf()),e=t}));var i=c.qw[o.join("-")]||"???";return"".concat(r).concat(i)}},874:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/quizzes/notation",function(){return n(8538)}])}},function(t){t.O(0,[610,774,888,179],(function(){return e=874,t(t.s=e);var e}));var e=t.O();_N_E=e}]);